{
  "blockName": "tpgb/tp-google-map",
  "version": "1.0.0",
  "title": "Google Map",
  "category": "media",
  "description": "Embed Google Maps with multiple location markers/pins, custom map styles, optional overlay content, and full control over map interactions. Perfect for contact pages, store locators, event locations, or any geographic content. Supports latitude/longitude or address-based positioning with custom pin icons.",
  "source": "pro",
  "attributes": {
    "block_id": {
      "type": "string",
      "required": true,
      "description": "Unique 4-character hex identifier for the block"
    },
    "locationPoint": {
      "type": "array",
      "repeaterField": true,
      "description": "Array of map location markers/pins with custom icons and addresses",
      "items": {
        "latitude": {
          "type": "string",
          "default": "",
          "description": "Marker latitude coordinate"
        },
        "longitude": {
          "type": "string",
          "default": "",
          "description": "Marker longitude coordinate"
        },
        "address": {
          "type": "string",
          "default": "",
          "description": "Marker address (fallback if lat/long not provided)"
        },
        "pinIcon": {
          "type": "object",
          "default": {"url": ""},
          "description": "Custom pin/marker icon image"
        },
        "pinIconSize": {
          "type": "string",
          "default": "thumbnail",
          "description": "Pin icon WordPress image size"
        },
        "latOrAddr": {
          "type": "string",
          "default": "latitude",
          "enum": ["latitude", "address"],
          "description": "Use latitude/longitude or address for positioning"
        },
        "addr": {
          "type": "string",
          "default": "Galaxy Signature Science City Road, Opp. sukan bungalow, Sola, Ahmedabad, Gujarat-380060",
          "description": "Full address string for geocoding"
        }
      },
      "default": [
        {
          "_key": "0",
          "latitude": "40.6884135",
          "longitude": "-74.3606169",
          "address": "",
          "pinIcon": {"url": ""},
          "latOrAddr": "latitude",
          "addr": "Galaxy Signature Science City Road, Opp. sukan bungalow, Sola, Ahmedabad, Gujarat-380060"
        }
      ]
    },
    "mapHeight": {
      "type": "object",
      "default": {"md": 300, "unit": "px"},
      "description": "Map container minimum height",
      "responsive": true
    },
    "Zoom": {
      "type": "string",
      "default": "8.5",
      "description": "Initial map zoom level (0-20, higher = more zoomed in)"
    },
    "scrollWheel": {
      "type": "boolean",
      "default": true,
      "description": "Allow zoom with mouse wheel scrolling"
    },
    "panCtrl": {
      "type": "boolean",
      "default": true,
      "description": "Show pan control buttons"
    },
    "Draggable": {
      "type": "boolean",
      "default": true,
      "description": "Allow dragging/panning the map"
    },
    "zoomCtrl": {
      "type": "boolean",
      "default": true,
      "description": "Show zoom in/out controls"
    },
    "mapTypeCtrl": {
      "type": "boolean",
      "default": true,
      "description": "Show map type selector (roadmap, satellite, etc.)"
    },
    "scaleCtrl": {
      "type": "boolean",
      "default": true,
      "description": "Show map scale control"
    },
    "fullScreenCtrl": {
      "type": "boolean",
      "default": true,
      "description": "Show fullscreen toggle button"
    },
    "streetViewCtrl": {
      "type": "boolean",
      "default": true,
      "description": "Show Street View pegman control"
    },
    "gmapType": {
      "type": "string",
      "default": "roadmap",
      "enum": ["roadmap", "satellite", "hybrid", "terrain"],
      "description": "Google Maps display type"
    },
    "customStyleTgl": {
      "type": "boolean",
      "default": false,
      "description": "Enable custom map styling (Snazzy Maps styles)"
    },
    "customStyle": {
      "type": "string",
      "default": "style-1",
      "description": "Pre-built custom map style (when customStyleTgl is true)"
    },
    "contentTgl": {
      "type": "boolean",
      "default": false,
      "description": "Show overlay content box on map"
    },
    "title": {
      "type": "string",
      "default": "Location Here",
      "description": "Overlay content title"
    },
    "description": {
      "type": "string",
      "default": "I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.",
      "description": "Overlay content description text"
    },
    "contentBG": {
      "type": "object",
      "default": {"openBg": 0, "bgType": "color", "bgDefaultColor": "", "bgGradient": {}},
      "description": "Overlay content background (when contentTgl is true)"
    },
    "titleTypo": {
      "type": "object",
      "default": {"openTypography": 0, "size": {"md": "", "unit": "px"}},
      "description": "Typography for overlay title"
    },
    "titleColor": {
      "type": "string",
      "default": "",
      "description": "Overlay title text color"
    },
    "descTypo": {
      "type": "object",
      "default": {"openTypography": 0, "size": {"md": "", "unit": "px"}},
      "description": "Typography for overlay description"
    },
    "descColor": {
      "type": "string",
      "default": "",
      "description": "Overlay description text color"
    },
    "toggleColor": {
      "type": "string",
      "default": "rgba(0, 0, 0, 0.4)",
      "description": "Overlay toggle button color (normal state)"
    },
    "tglActiveClr": {
      "type": "string",
      "default": "",
      "description": "Overlay toggle button color (active state)"
    },
    "showBlockContent": {
      "type": "boolean",
      "default": true,
      "description": "Show/hide block content"
    }
  },
  "editingGuidelines": {
    "safeToModify": [
      "locationPoint",
      "mapHeight",
      "Zoom",
      "scrollWheel",
      "panCtrl",
      "Draggable",
      "zoomCtrl",
      "mapTypeCtrl",
      "scaleCtrl",
      "fullScreenCtrl",
      "streetViewCtrl",
      "gmapType",
      "customStyleTgl",
      "customStyle",
      "title",
      "description",
      "titleColor",
      "descColor",
      "titleTypo",
      "descTypo",
      "contentBG"
    ],
    "requiresValidation": [
      "contentTgl",
      "toggleColor",
      "tglActiveClr"
    ],
    "dangerous": [
      "block_id"
    ]
  },
  "styleDependencies": [
    "Google Maps JavaScript API",
    "Geocoding API (for address-based markers)",
    "Custom map styles (Snazzy Maps)",
    "Overlay content positioning CSS",
    "Marker clustering (for multiple pins)"
  ],
  "commonUseCases": [
    "Contact page location maps",
    "Store locator with multiple locations",
    "Event venue maps",
    "Office/branch location displays",
    "Real estate property maps",
    "Travel itinerary maps",
    "Service area coverage maps",
    "Historical location timelines",
    "Multi-location business directories",
    "Convention/conference venue maps"
  ],
  "relatedBlocks": [
    "tpgb/tp-infobox",
    "tpgb/tp-hotspot",
    "tpgb/tp-icon-box"
  ],
  "capabilities": [
    "Multiple location markers/pins",
    "Latitude/longitude or address-based positioning",
    "Custom pin icons with size control",
    "Multiple map types (roadmap, satellite, hybrid, terrain)",
    "Custom map styling (Snazzy Maps integration)",
    "Overlay content box with title and description",
    "Full control over map interactions (zoom, pan, drag, scroll)",
    "All Google Maps controls (zoom, type, scale, fullscreen, street view)",
    "Responsive map height",
    "Geocoding support for address-to-coordinate conversion"
  ],
  "usesContext": [],
  "supports": {
    "align": ["wide", "full"]
  },
  "innerBlocksAllowed": false,
  "parentBlockRequired": false,
  "examples": [
    {
      "description": "Simple single location map with custom pin",
      "attributes": {
        "block_id": "a1b2",
        "locationPoint": [
          {
            "_key": "0",
            "latitude": "40.7580",
            "longitude": "-73.9855",
            "latOrAddr": "latitude",
            "pinIcon": {"url": "/custom-pin.png"}
          }
        ],
        "mapHeight": {"md": 400, "unit": "px"},
        "Zoom": "14",
        "gmapType": "roadmap"
      }
    },
    {
      "description": "Multiple store locations with overlay content",
      "attributes": {
        "block_id": "c3d4",
        "locationPoint": [
          {"_key": "0", "latitude": "34.0522", "longitude": "-118.2437", "latOrAddr": "latitude"},
          {"_key": "1", "latitude": "40.7128", "longitude": "-74.0060", "latOrAddr": "latitude"},
          {"_key": "2", "latitude": "41.8781", "longitude": "-87.6298", "latOrAddr": "latitude"}
        ],
        "mapHeight": {"md": 500, "unit": "px"},
        "Zoom": "4",
        "contentTgl": true,
        "title": "Our Locations",
        "description": "Visit any of our 3 locations nationwide",
        "titleColor": "#2c3e50",
        "contentBG": {"openBg": 1, "bgType": "color", "bgDefaultColor": "rgba(255,255,255,0.9)"}
      }
    },
    {
      "description": "Custom styled satellite map",
      "attributes": {
        "block_id": "e5f6",
        "gmapType": "satellite",
        "customStyleTgl": true,
        "customStyle": "style-3",
        "streetViewCtrl": false,
        "Zoom": "18"
      }
    },
    {
      "description": "Address-based location (geocoding)",
      "attributes": {
        "block_id": "g7h8",
        "locationPoint": [
          {
            "_key": "0",
            "latOrAddr": "address",
            "addr": "1600 Amphitheatre Parkway, Mountain View, CA"
          }
        ],
        "mapHeight": {"md": 350, "unit": "px"}
      }
    }
  ]
}
